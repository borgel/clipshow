{"id":"clipshow-052","title":"Step 7: Detection Pipeline","description":"Implement detection/pipeline.py: orchestrate running all enabled detectors on each video source. Respect detector weights (skip weight=0). Pass progress callbacks and cancellation flags. Collect DetectorResults and delegate to scoring.py for segment extraction. Write test_pipeline.py with both mock detectors and real synthetic video E2E. Run testreview-gemini after.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:27:31Z","closed_at":"2026-02-23T22:27:31Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-052","depends_on_id":"clipshow-0i5","type":"blocks","created_at":"2026-02-23T14:00:28Z","created_by":"Kerry Scharfglass","metadata":"{}"},{"issue_id":"clipshow-052","depends_on_id":"clipshow-nr3","type":"blocks","created_at":"2026-02-23T14:00:28Z","created_by":"Kerry Scharfglass","metadata":"{}"},{"issue_id":"clipshow-052","depends_on_id":"clipshow-o5b","type":"blocks","created_at":"2026-02-23T14:00:28Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-0i5","title":"Step 6: Motion Detector","description":"Implement detection/motion.py: OpenCV absdiff on decimated grayscale frames to detect motion/action. Implement Detector interface. Return DetectorResult with normalized scores. Add tests to test_detectors.py verifying motion_video scores higher than static_video.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:25:55Z","closed_at":"2026-02-23T22:25:55Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-0i5","depends_on_id":"clipshow-144","type":"blocks","created_at":"2026-02-23T14:00:27Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-144","title":"Step 3: Scoring Math","description":"Implement detection/scoring.py: pure-numpy scoring engine. Resample detector score arrays to common 10 samples/sec time base. Weighted combination of enabled detectors, renormalize to [0,1]. Threshold to find interesting timesteps, extract contiguous runs as candidate segments, apply pre/post padding (clamp to boundaries), merge overlapping segments (gap \u003c0.5s), filter by min/max duration, rank by peak score. Write test_scoring.py. Run testreview-gemini after.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:19:16Z","closed_at":"2026-02-23T22:19:16Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-144","depends_on_id":"clipshow-9rm","type":"blocks","created_at":"2026-02-23T14:00:27Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-3fc","title":"Step 15: Export Panel","description":"Implement ui/export_panel.py: output path picker, resolution/fps/bitrate settings, summary (N segments, total duration), export button + progress bar. Write workers/export_worker.py (QThread). Write test_ui_export.py verifying settings binding, worker completion flow, progress bar updates.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:46:32Z","closed_at":"2026-02-23T22:46:32Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-3fc","depends_on_id":"clipshow-8eq","type":"blocks","created_at":"2026-02-23T14:00:31Z","created_by":"Kerry Scharfglass","metadata":"{}"},{"issue_id":"clipshow-3fc","depends_on_id":"clipshow-bhm","type":"blocks","created_at":"2026-02-23T14:00:32Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-5si","title":"Step 18: Emotion Detector","description":"Implement detection/emotion.py: MediaPipe face detection + deepface-onnx emotion classification. Lazy-load on first use. Sample at 3 FPS. Score higher for positive/high-energy emotions (happy, surprise). Show install prompt if deps missing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:12:45Z","dependencies":[{"issue_id":"clipshow-5si","depends_on_id":"clipshow-052","type":"blocks","created_at":"2026-02-23T14:00:33Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-7sh","title":"Step 12: Video Preview","description":"Implement ui/video_preview.py: QMediaPlayer + QVideoWidget wrapper for video playback. Play segment at given start/end time. Play/pause controls. Mock QMediaPlayer in tests to avoid actual playback.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:41:13Z","closed_at":"2026-02-23T22:41:13Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-7sh","depends_on_id":"clipshow-haj","type":"blocks","created_at":"2026-02-23T14:00:30Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-8eq","title":"Step 14: Review Panel","description":"Implement ui/review_panel.py: left side draggable segment list with include/exclude checkboxes, right side video preview widget. Bottom trim controls with +/-0.5s nudge buttons. Click segment to preview. Implement ui/segment_list.py and ui/timeline_widget.py. Write test_ui_review.py verifying reorder, trim, include/exclude, preview integration.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:44:47Z","closed_at":"2026-02-23T22:44:47Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-8eq","depends_on_id":"clipshow-mtn","type":"blocks","created_at":"2026-02-23T14:00:31Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-8v0","title":"Step 17: Semantic Detector","description":"Implement detection/semantic.py: CLIP-based content scoring via onnx_clip (ONNX Runtime, no PyTorch). Lazy-load on first use with importlib.import_module(). Auto-download CLIP ViT-B/32 model (338MB) to ~/.clipshow/models/. Sample frames at 1 FPS, score against user text prompts, return cosine similarity. Show install/download prompt if deps missing.","status":"open","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:55:19Z","dependencies":[{"issue_id":"clipshow-8v0","depends_on_id":"clipshow-052","type":"blocks","created_at":"2026-02-23T14:00:32Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-8zn","title":"Step 9: Auto Mode","description":"Wire up run_auto_mode() in app.py: load files, run ffprobe for metadata, run detection pipeline with default settings, take all segments above threshold sorted chronologically, assemble via MoviePy, write output. Support --headless (no GUI) and minimal progress window. Write test_auto_mode.py as full E2E with synthetic videos.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:54:13Z","closed_at":"2026-02-23T22:54:13Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-8zn","depends_on_id":"clipshow-052","type":"blocks","created_at":"2026-02-23T14:00:29Z","created_by":"Kerry Scharfglass","metadata":"{}"},{"issue_id":"clipshow-8zn","depends_on_id":"clipshow-bhm","type":"blocks","created_at":"2026-02-23T14:00:29Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-9ck","title":"Step 19: Visual Regression Baselines","description":"Regenerate test_ui_layout.py visual regression baselines for all panels. Capture screenshots at fixed 800x600 via widget.grab(). Compare with scikit-image SSIM (threshold 0.95). Support --update-baselines flag. Save diff screenshots as artifacts on CI failure. Cover: import (empty/loaded), analyze (default/custom), review (with segments), export (default/progress), main window.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:12:48Z","dependencies":[{"issue_id":"clipshow-9ck","depends_on_id":"clipshow-bir","type":"blocks","created_at":"2026-02-23T14:00:33Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-9rm","title":"Step 1: Project Scaffold","description":"- type: task","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:11:53Z","closed_at":"2026-02-23T22:11:53Z","close_reason":"Closed"}
{"id":"clipshow-bhm","title":"Step 8: Video Assembler","description":"Implement export/assembler.py: use MoviePy 2.x to concatenate video subclips and encode to output MP4 (H.264). Support subclip start/end times. Hard cuts only (no crossfades). Write test_assembler.py verifying output exists, correct duration, valid codec. Verify via ffprobe.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:29:26Z","closed_at":"2026-02-23T22:29:26Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-bhm","depends_on_id":"clipshow-ocm","type":"blocks","created_at":"2026-02-23T14:00:29Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-bir","title":"Step 16: Full UI E2E","description":"Write test_ui_workflow.py: full end-to-end UI test simulating Import -\u003e Analyze -\u003e Review -\u003e Export journey with qtbot. Programmatically add test videos, trigger analysis, verify segments, toggle/reorder segments, export to temp file, verify valid MP4 output. Run testreview-gemini on all UI tests.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:51:38Z","closed_at":"2026-02-23T22:51:38Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-bir","depends_on_id":"clipshow-3fc","type":"blocks","created_at":"2026-02-23T14:00:32Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-di1","title":"Step 20: Packaging \u0026 CI/CD","description":"Create PyInstaller specs (packaging/clipshow_macos.spec, clipshow_windows.spec), Inno Setup script (packaging/installer.iss), release.yml GitHub Action (triggered on version tags). macOS: .app bundle + .dmg via create-dmg. Windows: folder-mode .exe + Inno installer. Both: hiddenimports for PySide6 multimedia + scenedetect submodules. Exclude tkinter/matplotlib.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:12:52Z","dependencies":[{"issue_id":"clipshow-di1","depends_on_id":"clipshow-bir","type":"blocks","created_at":"2026-02-23T14:00:33Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-haj","title":"Step 10: UI Shell","description":"Implement ui/main_window.py: 4-tab workflow (Import, Analyze, Review, Export) with sequential tab enabling. Navigation buttons (Back/Next). Write test_ui_layout.py baseline screenshots. Verify PySide6 launches headlessly with QT_QPA_PLATFORM=offscreen.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:29:27Z","closed_at":"2026-02-23T22:29:27Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-haj","depends_on_id":"clipshow-9rm","type":"blocks","created_at":"2026-02-23T14:00:29Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-mtn","title":"Step 13: Analyze Panel","description":"Implement ui/analyze_panel.py: sliders for detector weights and threshold, enable/disable checkboxes per detector. Semantic detectors show model download note. Per-file progress bars. Analyze All button launches AnalysisWorker (QThread). Write workers/analysis_worker.py. Write test_ui_analyze.py verifying slider binding, worker signals, progress, cancel.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:42:59Z","closed_at":"2026-02-23T22:42:59Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-mtn","depends_on_id":"clipshow-052","type":"blocks","created_at":"2026-02-23T14:00:31Z","created_by":"Kerry Scharfglass","metadata":"{}"},{"issue_id":"clipshow-mtn","depends_on_id":"clipshow-7sh","type":"blocks","created_at":"2026-02-23T14:00:31Z","created_by":"Kerry Scharfglass","metadata":"{}"},{"issue_id":"clipshow-mtn","depends_on_id":"clipshow-uzs","type":"blocks","created_at":"2026-02-23T14:00:30Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-nr3","title":"Step 4: Scene Detector","description":"Implement detection/scene.py: wrap PySceneDetect ContentDetector for HSV-weighted frame differencing. Implement Detector interface from base.py. Return DetectorResult with normalized [0,1] scores per timestep. Spikes at cuts/transitions. Add tests to test_detectors.py verifying scene change detection on the scene_change_video fixture.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:25:54Z","closed_at":"2026-02-23T22:25:54Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-nr3","depends_on_id":"clipshow-144","type":"blocks","created_at":"2026-02-23T14:00:27Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-o5b","title":"Step 5: Audio Detector","description":"Implement detection/audio.py: extract audio to temp WAV via FFmpeg subprocess, run librosa onset strength + RMS energy analysis. Implement Detector interface. Return DetectorResult with normalized scores capturing loud moments, speech, beats. Add tests to test_detectors.py verifying detection on loud_moment_video fixture.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:25:54Z","closed_at":"2026-02-23T22:25:54Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-o5b","depends_on_id":"clipshow-144","type":"blocks","created_at":"2026-02-23T14:00:27Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-ocm","title":"Step 2: ffprobe Module","description":"Implement export/ffprobe.py: extract video metadata (duration, width, height, fps, codec) by calling ffprobe as a subprocess. Parse JSON output. Populate VideoSource fields. Write test_ffprobe.py verifying extraction on synthetic test videos from conftest.py.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:19:16Z","closed_at":"2026-02-23T22:19:16Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-ocm","depends_on_id":"clipshow-9rm","type":"blocks","created_at":"2026-02-23T14:00:26Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
{"id":"clipshow-uzs","title":"Step 11: Import Panel","description":"Implement ui/import_panel.py: drag-drop area + file browser button. File list showing filename, duration, resolution. Remove/clear buttons. Next button disabled when no files. Write test_ui_import.py verifying add/remove/clear flows and button states.","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-02-23T21:59:31Z","updated_at":"2026-02-23T22:40:04Z","closed_at":"2026-02-23T22:40:04Z","close_reason":"Closed","dependencies":[{"issue_id":"clipshow-uzs","depends_on_id":"clipshow-haj","type":"blocks","created_at":"2026-02-23T14:00:30Z","created_by":"Kerry Scharfglass","metadata":"{}"}]}
